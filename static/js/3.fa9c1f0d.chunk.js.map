{"version":3,"sources":["cmps/helpers/mapHelpers/SvgDefsFilterShadow.js","cmps/helpers/FilterInput.js","cmps/helpers/countryDetails/CountryDetailsTitle.js","cmps/helpers/countryDetails/CountryDetailsList.js","cmps/helpers/countryDetails/index.js","cmps/helpers/mapHelpers/SvgDefsScanning.js","cmps/worldDashboard/mapUtils/GCircles.js","cmps/worldDashboard/mapUtils/GPaths.js","cmps/worldDashboard/mapUtils/MapTooltip.js","cmps/worldDashboard/mapUtils/SvgCountriesMap.js","cmps/worldDashboard/mapUtils/MapOptions.js","cmps/helpers/graphs/GraphColumnsPreview.js","cmps/helpers/graphs/GraphColumns.js","cmps/worldDashboard/WorldDashboardMap.js","cmps/worldDashboard/WorldDashboardListItem.js","cmps/worldDashboard/WorldDashboardList.js","cmps/worldDashboard/WorldDashboardWorldData.js","cmps/helpers/svg-icons/ReplaceSVG.js","cmps/helpers/graphs/GraphRows.js","cmps/worldDashboard/WorldDashboardDetails.js","pages/WorldDashboard.js"],"names":["SvgDefsFilterShadow","id","height","in","stdDeviation","dx","dy","result","type","slope","x","y","width","floodColor","floodOpacity","in2","operator","FilterInput","list","filterKeys","placeholder","onFilter","useState","filterValue","setFilterValue","updateFilterValue","ev","console","log","target","value","toLowerCase","filteredList","filter","item","some","key","includes","className","onChange","onClick","focusable","viewBox","d","CountryDetailsTitle","country","sounds","isWorld","name","isCountryVoice","countryIcon","autoPlay","loop","muted","playsInline","loading","src","UtilsService","getSrc","alt","title","getImgSrc","alpha2","useEffect","msg","SpeechSynthesisUtterance","text","voice","window","speechSynthesis","getVoices","voiceURI","volume","rate","pitch","lang","speak","continent","CountryDetailsList","categoriesToAddIcon","CASES","DEATHS","RECOVERED","ACTIVE","CRITICAL","TESTS","coronaDetails","getCoronaDataKeys","map","category","isWishIcon","numberWithCommas","dividBy","POPULATION","percent","style","color","colorHEX","svgIcon","UPDATED","Date","toString","toLocaleString","toFixed","Number","populationDetails","populationData","getDataKeyByKey","fill","cx","cy","r","CountryDetails","settingsStore","useSelector","state","SvgDefsScanning","x1","y1","x2","y2","offset","stopColor","patternUnits","attributeType","attributeName","from","to","dur","repeatCount","GCircles","circlesDataKey","countries","dynamicRatio","args","countriesCircles","calcRadius","radius","shortNum","numberToShortString","dataKey","centerPoint","fontSize","strokeWidth","initStroke","GPaths","selectedCountry","minMapZoom","didDrag","pathClassName","currPathName","isDragging","initZoom","isAutoFocus","isTooltipShow","isGradient","onSetViewBox","onSetDynamicRatio","onSetMapView","onSelectCountry","selectedCountryRef","useRef","current","bBox","getBBox","abs","Math","max","bBoxX","bBoxY","zoom","countriesPaths","useMemo","isSelected","classSelected","isSelecting","ref","undefined","countriesPathsLabels","countriesLabels","MapTooltip","tooltip","maxMapZoom","ratioUpdateZoom","minTopSvg","minLeftSvg","initFontSize","memo","props","settings","isCirclesShow","svgRef","setViewBox","mapView","setMapView","setDynamicRatio","setDidDrag","setIsDragging","pointerDiff","setPointerDiff","setTooltip","setCurrPathName","handleWheel","useCallback","path","baseVal","updateZoom","copy","deltaY","addEventListener","passive","removeEventListener","handleMouseMove","ratioBySvgHeight","clientHeight","clientX","clientY","movementX","movementY","getAttribute","top","nativeEvent","offsetY","left","offsetX","stopDrag","setTimeout","onScroll","onWheel","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","MapOptions","isGraphShow","onToggleIsCirclesShow","onToggleIsAutoFocus","onSetCirclesDataKey","onToggleIsTooltipShow","onToggleIsGraphShow","onToggleGradient","circlesDataButtons","getDataKeysByKeys","circle","isActive","Button","isBooleanActive","isBoolean","GraphColumnsPreview","arr","maxColumnHeight","graphRatio","graphDataType","showLine","idx","length","backgroundColor","line","diff","colWidth","calcSlant","sqrt","angle","atan","PI","slant","calcLine","lineStyle","transform","date","orderDate","GraphColumns","graphRef","setGraphRatio","graphType","setGraphType","isCumulative","setIsCumulative","graphTypesButtons","historyObj","history","timeline","historyArr","historyEntries","Object","entries","reduce","acc","push","next","clientWidth","WorldDashboardMap","countriesStore","selectedCountryIndex","worldData","mapOptionsFunction","WorldDashboardListItem","countryRef","categoryView","commasNum","APercent","activePercent","isNaN","numericCode","RANK","todayCases","VirusSVG","WorldDashboardList","React","filteredCountries","setFilteredCountries","isFiltered","setIsFiltered","isScroll","setIsScroll","handleUserKeyPress","preventDefault","arrowUpOrDown","code","nextIndex","scrollIntoView","block","scrollTop","scrollHeight","WorldDashboardWorldData","VirusLogoSVG","role","GraphRows","rowsAmount","setRowsAmount","DataKeys","graphBy","setGraphBy","graphDataKey","top10","sort","b","a","slice","ReplaceSVG","fontWeight","WorldDashboardDetails","WorldDashboard","dispatch","useDispatch","useHistory","params","useParams","isSelectedCountry","find","actions","selectCountry","WORLD_DASHBOARD","isSameCountry","alpha2ToPush","toggleIsCirclesShow","toggleIsAutoFocus","setCirclesDataKey","toggleIsTooltipShow","toggleGradient","toggleIsGraphShow","worldMap"],"mappings":"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","file":"static/js/3.fa9c1f0d.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction SvgDefsFilterShadow() {\n  return (\n    <>\n      <defs>\n        <filter id=\"dropshadow\" height=\"130%\">\n          <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" />\n          <feOffset dx=\"2\" dy=\"2\" result=\"offsetblur\" />\n          <feComponentTransfer>\n            <feFuncA type=\"linear\" slope=\"0.5\" />\n          </feComponentTransfer>\n          <feMerge>\n            <feMergeNode />\n            <feMergeNode in=\"SourceGraphic\" />\n          </feMerge>\n        </filter>\n      </defs>\n      <defs>\n        <filter id=\"dropshadow-color\" x=\"0%\" y=\"0%\" width=\"100%\" height=\"100%\">\n          <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" result=\"blur\" />\n          <feOffset in=\"blur\" dx=\"0\" dy=\"0\" result=\"offsetBlur\" />\n          <feFlood floodColor=\"var(--color2-border)\" floodOpacity=\"0.6\" result=\"offsetColor\" />\n          <feComposite in=\"offsetColor\" in2=\"offsetBlur\" operator=\"in\" result=\"offsetBlur\" />\n          <feMerge>\n            <feMergeNode />\n            <feMergeNode in=\"SourceGraphic\" />\n          </feMerge>\n        </filter>\n      </defs>\n    </>\n  );\n}\n\nexport default SvgDefsFilterShadow;","import React, { useState } from 'react';\n\nfunction FilterInput({ list = [], filterKeys = [], placeholder = 'Search',\n  onFilter }) {\n\n  const [filterValue, setFilterValue] = useState('');\n\n  const updateFilterValue = ev => {\n    console.log('updateFilterValue');\n    setFilterValue(ev.target.value);\n    const value = ev.target.value.toLowerCase();\n    if (!value) onFilter(null);\n    else {\n      const filteredList = list.filter(item => filterKeys.some(key => item[key].toLowerCase().includes(value)));\n      onFilter(filteredList);\n    }\n  }\n\n  return (\n    <label className=\"text-filter\">\n      <input className=\"filter-input\" type=\"text\" placeholder={placeholder}\n        value={filterValue} onChange={updateFilterValue} />\n      {filterValue &&\n        <div className=\"clear-button\" onClick={() => updateFilterValue({ target: { value: '' } })}>\n          <svg className=\"clear-button-svg\" focusable=\"false\" viewBox=\"0 0 24 24\">\n            <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\n          </svg>\n        </div>\n      }\n      <span className=\"span-animation\"></span>\n    </label>\n  );\n}\n\nexport default FilterInput;\n","import React, { useEffect } from 'react';\nimport UtilsService from '../../../services/UtilsService';\n\nfunction CountryDetailsTitle({ country, sounds }) {\n\n  const isWorld = country.name === 'World';\n  const { isCountryVoice } = sounds;\n\n  const countryIcon = (() => {\n    return isWorld\n      // ? <img className=\"country-flag\" src={UtilsService.getSrc(`earth.gif`)} alt=\"Earth\" />\n      ? <video className=\"country-earth\" autoPlay loop muted playsInline loading=\"lazy\">\n        <source src={UtilsService.getSrc(`earth.mp4`)} type=\"video/mp4\" />\n      </video>\n      : <img className=\"country-flag\" alt=\"Flag\" title={country.name}\n        src={UtilsService.getImgSrc(`flags/${country.alpha2.toLowerCase()}.png`)} />\n  })()\n\n  \n  useEffect(() => {\n    if (isCountryVoice && !isWorld) {\n      const msg = new SpeechSynthesisUtterance();\n      msg.text = country.name;\n      // const voices = window.speechSynthesis.getVoices();\n      // msg.voice = voices[1];\n      msg.voice = window.speechSynthesis.getVoices()[1];\n      msg.voiceURI = \"native\";\n      msg.volume = 1;\n      msg.rate = 1;\n      msg.pitch = 0.8;\n      msg.lang = 'en-US';\n      speechSynthesis.speak(msg);\n    }\n  }, [country, isCountryVoice, isWorld])\n\n  return (\n    <div className=\"country-details-title\">\n      <div className={`wrap-country-icon ${isWorld ? 'earth' : 'flag'}`}>\n        {countryIcon}\n      </div>\n      <div className=\"wrap-country-title\">\n        <h2>{country.name}</h2>\n        <span className=\"continent\">{country.continent}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default CountryDetailsTitle;\n","import React from 'react';\nimport UtilsService from '../../../services/UtilsService';\nimport {\n  POPULATION, CASES, DEATHS, RECOVERED, ACTIVE, CRITICAL, TESTS, UPDATED,\n  getCoronaDataKeys, getDataKeyByKey\n} from '../../../constants/DataKeys';\n\nfunction CountryDetailsList({ country }) {\n  const categoriesToAddIcon = [CASES, DEATHS, RECOVERED, ACTIVE, CRITICAL, TESTS];\n\n  const coronaDetails = getCoronaDataKeys().map(category => {\n    const isWishIcon = categoriesToAddIcon.some(key => key === category.key);\n    const value = country[category.key] ? UtilsService.numberWithCommas(country[category.key]) : 'No Data';\n    const dividBy = category.key === CASES ? POPULATION : category.dividBy;\n    const percent = country[category.key] / country[dividBy] * 100;\n    return <li className=\"country-details-item\" key={category.key} style={{ color: category.colorHEX }}>\n      <span className=\"title\">\n        {category.title}:&nbsp;\n        {isWishIcon && <div className=\"wrap-icon-svg\">{category.svgIcon}</div>}\n      </span>\n      {category.key === UPDATED\n        ? <span className=\"value\" title={new Date(country[category.key]).toString()}>\n          {new Date(country[category.key]).toLocaleString()}\n        </span>\n        : <span className=\"value\" title={value}>{value}</span>\n      }\n      {!!percent && dividBy && !!country[category.key] &&\n        <span className=\"percent\" title={percent.toFixed(2)}>\n          {Number(percent.toFixed(0)) !== 0 ? percent.toFixed(0) : percent.toFixed(2)}\n          %\n        </span>\n      }\n    </li>\n  })\n\n  const populationDetails = (() => {\n    const populationData = getDataKeyByKey(POPULATION);\n    const value = UtilsService.numberWithCommas(country[populationData.key]);\n    return <li className=\"country-details-item\">\n      <span className=\"title\">{populationData.title}:&nbsp;</span>\n      <div className=\"value population\">\n        <span title={value}>{value}</span>\n        <span className=\"wrap-icon-svg\">\n          <svg viewBox=\"0 0 512 512\">\n            <circle fill=\"currentColor\" cx=\"256\" cy=\"378.5\" r=\"25\" />\n            <path fill=\"currentColor\" d=\"M256,0C114.516,0,0,114.497,0,256c0,141.484,114.497,256,256,256c141.484,0,256-114.497,256-256\n\t\t\t\tC512,114.516,397.503,0,256,0z M256,472c-119.377,0-216-96.607-216-216c0-119.377,96.607-216,216-216\n\t\t\t\tc119.377,0,216,96.607,216,216C472,375.377,375.393,472,256,472z\"/>\n            <path fill=\"currentColor\" d=\"M256,128.5c-44.112,0-80,35.888-80,80c0,11.046,8.954,20,20,20s20-8.954,20-20c0-22.056,17.944-40,40-40\n\t\t\t\tc22.056,0,40,17.944,40,40c0,22.056-17.944,40-40,40c-11.046,0-20,8.954-20,20v50c0,11.046,8.954,20,20,20\n\t\t\t\tc11.046,0,20-8.954,20-20v-32.531c34.466-8.903,60-40.26,60-77.469C336,164.388,300.112,128.5,256,128.5z\"/>\n          </svg>\n          <div className=\"population-info\">\n            <span>Population of 2020</span>\n          </div>\n        </span>\n      </div>\n    </li>\n  })()\n\n  return (\n    <ul className=\"country-details-list\">\n      {populationDetails}\n      {coronaDetails}\n    </ul>\n  );\n}\n\nexport default CountryDetailsList;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport CountryDetailsTitle from './CountryDetailsTitle';\nimport CountryDetailsList from './CountryDetailsList';\n\nfunction CountryDetails({ country }) {\n\n  const settingsStore = useSelector(state => state.settingsStore);\n  const sounds = settingsStore ? settingsStore.sounds : { sounds: false };\n  return (\n    <div className=\"country-details flex-col\">\n      <CountryDetailsTitle country={country} sounds={sounds} />\n      <CountryDetailsList country={country} />\n    </div>\n  );\n}\n\nexport default CountryDetails;\n","import React from \"react\";\n\nfunction SvgDefsScanning() {\n  return (\n    <>\n      <defs>\n        <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"0\" y2=\"100%\">\n          <stop offset=\"0%\" style={{ stopColor: \"var(--color1-border)\" }} />\n          <stop offset=\"25%\" style={{ stopColor: \"#82dcff\" }} />\n          <stop offset=\"50%\" style={{ stopColor: \"var(--color2-border)\" }} />\n          <stop offset=\"75%\" style={{ stopColor: \"#82dcff\" }} />\n          <stop offset=\"100%\" style={{ stopColor: \"var(--color1-border)\" }} />\n        </linearGradient>\n\n        <pattern id=\"pattern\" x=\"0\" y=\"0\" width=\"300%\" height=\"300%\" \n        patternUnits=\"objectBoundingBox\"\n        >\n          <rect x=\"0\" y=\"0\" width=\"300%\" height=\"150%\" fill=\"url(#gradient)\">\n            <animate attributeType=\"XML\"\n              attributeName=\"y\"\n              from=\"0\" to=\"150%\"\n              dur=\"6s\"\n              repeatCount=\"indefinite\" />\n          </rect>\n          <rect x=\"0\" y=\"-150%\" width=\"300%\" height=\"150%\" fill=\"url(#gradient)\">\n            <animate attributeType=\"XML\"\n              attributeName=\"y\"\n              from=\"-150%\" to=\"0\"\n              dur=\"6s\"\n              repeatCount=\"indefinite\" />\n          </rect>\n        </pattern>\n      </defs>\n    </>\n  );\n}\n\nexport default SvgDefsScanning;","import React from \"react\";\nimport UtilsService from '../../../services/UtilsService';\nimport { ACTIVE, getDataKeyByKey } from '../../../constants/DataKeys';\n\nfunction GCircles({ circlesDataKey = ACTIVE, countries, dynamicRatio, args }) {\n\n  const countriesCircles = countries.map(country => {\n    const calcRadius = (country[circlesDataKey] / 1000).toFixed();\n    const radius = calcRadius > 1000 ? 18 : calcRadius > 120 ? 14 : calcRadius > 50 ? 11 :  calcRadius > 12 ? 8 : 6;\n    const shortNum = UtilsService.numberToShortString(country[circlesDataKey]);\n    if (!shortNum) return '';\n    const dataKey = getDataKeyByKey(circlesDataKey);\n    // const fill = `${dataKey.colorHEX}1a`;\n    const fill = `${dataKey.colorHEX}20`;\n    return <g key={country.id}>\n      <circle className=\"country-circle-data\" name={country.name} style={{ fill }}\n        // style={{ cx: country.centerPoint.x, cy: country.centerPoint.y, r: radius * dynamicRatio }}\n        cx={country.centerPoint.x} cy={country.centerPoint.y} r={radius * dynamicRatio}\n      />\n      <text className=\"circle-text\" x={country.centerPoint.x} y={country.centerPoint.y}\n        dy={`${radius * dynamicRatio / 3}px`} fontSize={`${radius * 0.85 * dynamicRatio}px`}>\n        {shortNum}\n      </text>\n    </g>\n  })\n\n  return (\n    <g className=\"g-circles\" style={{ strokeWidth: args.initStroke * dynamicRatio }}>\n      {countriesCircles}\n    </g>\n  );\n}\n\nexport default GCircles;","import React, { useEffect, useRef, useMemo } from \"react\";\nimport countriesLabels from \"../../../services/data/countriesLabels.json\";\n\nfunction GPaths({ countries, selectedCountry, dynamicRatio, args, minMapZoom, didDrag,\n  pathClassName, currPathName, isDragging, initZoom, isAutoFocus, isTooltipShow, isGradient,\n  onSetViewBox, onSetDynamicRatio, onSetMapView, onSelectCountry }) {\n\n  const selectedCountryRef = useRef();\n\n  useEffect(() => {\n    if (!selectedCountryRef.current || !isAutoFocus) return;\n    const bBox = selectedCountryRef.current.getBBox();\n    if (selectedCountry.name === 'United States') bBox.width = 265;\n    const abs = Math.abs(bBox.width - bBox.height) / 2;\n    const max = bBox.width > bBox.height ? bBox.width : bBox.height;\n    const bBoxX = bBox.width > bBox.height ? bBox.x : bBox.x - abs;\n    const bBoxY = bBox.width > bBox.height ? bBox.y - abs : bBox.y;\n    const x = bBoxX - minMapZoom / 2, y = bBoxY - minMapZoom / 2, zoom = max + minMapZoom;\n    onSetViewBox(`${x} ${y} ${zoom} ${zoom}`);\n    onSetDynamicRatio(zoom / initZoom);\n    onSetMapView({ zoom, x, y });\n  }, [selectedCountry, onSetViewBox, onSetDynamicRatio, onSetMapView, initZoom, minMapZoom, isAutoFocus])\n\n  const countriesPaths = useMemo(() => {\n    return countries.map(country => {\n      const isSelected = country.name === selectedCountry.name;\n      const classSelected = isSelected ? 'selected' : '';\n      const isSelecting = isDragging && !didDrag && currPathName === country.name ? 'selecting' : '';\n      return <path className={`${pathClassName} ${classSelected} ${isSelecting}`} key={country.id}\n        alpha2={country.alpha2} name={country.name} d={country.d}\n        onClick={() => !didDrag && onSelectCountry(country)}\n        ref={isSelected ? selectedCountryRef : undefined}\n        style={{ fill: `${isGradient && isSelected ? \"url('#pattern')\" : \"\"}` }}\n      >\n        {!isTooltipShow && <title>{country.name}</title>}\n      </path>\n    })\n  }, [countries, currPathName, didDrag, isDragging, isGradient, isTooltipShow, onSelectCountry, pathClassName, selectedCountry.name])\n\n  const countriesPathsLabels = countriesLabels.map(country => {\n    return <path className=\"country-path-label\" d={country.d} key={country.id}></path>\n  })\n\n  return (\n    <g className=\"g-paths\" style={{ strokeWidth: args.initStroke * dynamicRatio, filter: 'url(#dropshadow)' }}>\n      {countriesPaths}\n      {countriesPathsLabels}\n    </g>\n  );\n}\n\nexport default GPaths;","import React from \"react\";\nimport UtilsService from '../../../services/UtilsService';\nfunction MapTooltip({ tooltip }) {\n\n  return (\n    <div className=\"map-tooltip\" style={tooltip.style}>\n      <img className=\"tooltip-img\" alt=\"Flag\"\n        src={UtilsService.getImgSrc(`flags/${tooltip.alpha2.toLowerCase()}.png`)} />\n      <span className=\"tooltip-title\">{tooltip.name}</span>\n    </div>\n  );\n}\n\nexport default MapTooltip;","import React, { memo, useState, useEffect, useCallback, useRef } from \"react\";\n\nimport SvgDefsFilterShadow from '../../helpers/mapHelpers/SvgDefsFilterShadow';\nimport SvgDefsScanning from '../../helpers/mapHelpers/SvgDefsScanning';\nimport GCircles from './GCircles';\nimport GPaths from './GPaths';\nimport MapTooltip from './MapTooltip';\n\n\nconst pathClassName = 'country-path';\nconst svgClassName = 'svg-map';\n\nconst initZoom = 554;\nconst baseMap = { width: 954, height: 514 };\n\nconst args = {\n  minMapZoom: 30, maxMapZoom: 1100, ratioUpdateZoom: 0.15,\n  minTopSvg: (baseMap.height - initZoom) / 2, minLeftSvg: (baseMap.width - initZoom) / 2,\n  initFontSize: initZoom / 30, initStroke: initZoom / 1000\n};\n\nfunction SvgCountriesMap(props) {\n  const {\n    countries,\n    selectedCountry,\n    settings: { isCirclesShow, circlesDataKey, isAutoFocus, isTooltipShow, isGradient }, onSelectCountry\n  } = props;\n\n  const svgRef = useRef(initZoom);\n\n  const [viewBox, setViewBox] = useState(`${args.minLeftSvg} ${args.minTopSvg} ${initZoom} ${initZoom}`);\n  const [mapView, setMapView] = useState({ zoom: initZoom, x: args.minLeftSvg, y: args.minTopSvg });\n  const [dynamicRatio, setDynamicRatio] = useState(1);\n\n  const [didDrag, setDidDrag] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const [pointerDiff, setPointerDiff] = useState({ x: 1, y: 1 });\n  const [tooltip, setTooltip] = useState(null);\n\n  const [currPathName, setCurrPathName] = useState(null);\n\n  const handleWheel = useCallback(ev => {\n    const isMouseOnSvgMap = ev.path && ev.path.some(path => path.className && path.className.baseVal\n      && path.className.baseVal.includes(svgClassName));\n    if (!isMouseOnSvgMap) return;\n    const updateZoom = mapView.zoom * args.ratioUpdateZoom;\n    const copy = mapView;\n    if (ev.deltaY > 0) {\n      if (mapView.zoom + updateZoom + args.minMapZoom < args.maxMapZoom) {\n        copy.zoom = copy.zoom + updateZoom;\n        copy.x = copy.x - updateZoom / 2;\n        copy.y = copy.y - updateZoom / 2;\n        setMapView(copy);\n      }\n    } else {\n      if (mapView.zoom - updateZoom - args.minMapZoom > 0) {\n        copy.zoom = copy.zoom - updateZoom;\n        copy.x = copy.x + updateZoom / 2;\n        copy.y = copy.y + updateZoom / 2;\n        setMapView(copy);\n      }\n    }\n    setDynamicRatio(mapView.zoom / initZoom);\n    setViewBox(`${mapView.x} ${mapView.y} ${mapView.zoom} ${mapView.zoom}`);\n  }, [mapView]);\n\n  useEffect(() => {\n    window.addEventListener(\"mousewheel\", handleWheel, { passive: false });\n    return () => window.removeEventListener(\"mousewheel\", handleWheel, { passive: false });\n  }, [handleWheel])\n\n  const startDrag = ev => {\n    setPointerDiff({ x: ev.clientX, y: ev.clientY });\n    setIsDragging(true);\n    setCurrPathName(ev.target.getAttribute('name'));\n  }\n  const handleMouseMove = useCallback(ev => {\n    if (isDragging) {\n      const ratioBySvgHeight = initZoom / svgRef.current.clientHeight;\n      const x = mapView.x - (ev.clientX - pointerDiff.x) * dynamicRatio * ratioBySvgHeight;\n      const y = mapView.y - (ev.clientY - pointerDiff.y) * dynamicRatio * ratioBySvgHeight;\n      setMapView({ ...mapView, x, y });\n      setViewBox(`${mapView.x} ${mapView.y} ${mapView.zoom} ${mapView.zoom}`);\n      setPointerDiff({ x: ev.clientX, y: ev.clientY });\n      (ev.movementX !== 0 || ev.movementY !== 0) && setDidDrag(true);\n    }\n    if (isTooltipShow) {\n      if (ev.target.getAttribute('class').includes(pathClassName)) {\n        setTooltip({\n          name: ev.target.getAttribute('name'),\n          alpha2: ev.target.getAttribute('alpha2'),\n          style: { top: ev.nativeEvent.offsetY - 50, left: ev.nativeEvent.offsetX + 25 }\n        });\n      } else {\n        setTooltip(null);\n      }\n    }\n  }, [dynamicRatio, isDragging, isTooltipShow, mapView, pointerDiff]);\n\n  const stopDrag = () => {\n    setIsDragging(false);\n    setTimeout(() => setDidDrag(false), 0);\n  }\n  const handleMouseLeave = () => {\n    stopDrag();\n    setTooltip(null);\n  }\n\n  const handleScroll = ev => {\n    console.log(ev);\n  }\n\n  return (\n    <>\n      <svg className={svgClassName} viewBox={viewBox} ref={svgRef}\n        onScroll={handleScroll} onWheel={handleWheel}\n        onMouseDown={startDrag}\n        onMouseMove={handleMouseMove}\n        onMouseUp={stopDrag} onMouseLeave={handleMouseLeave}>\n\n        <SvgDefsFilterShadow />\n        <SvgDefsScanning />\n\n        <GPaths countries={countries} selectedCountry={selectedCountry} dynamicRatio={dynamicRatio} args={args}\n          currPathName={currPathName} isDragging={isDragging} pathClassName={pathClassName} didDrag={didDrag}\n          initZoom={initZoom} minMapZoom={args.minMapZoom} isAutoFocus={isAutoFocus} isTooltipShow={isTooltipShow}\n          isGradient={isGradient}\n          onSetViewBox={setViewBox} onSetDynamicRatio={setDynamicRatio} onSetMapView={setMapView}\n          onSelectCountry={onSelectCountry} />\n        {isCirclesShow &&\n          <GCircles circlesDataKey={circlesDataKey} countries={countries} dynamicRatio={dynamicRatio} args={args} />\n        }\n      </svg>\n\n      {isTooltipShow && tooltip &&\n        <MapTooltip tooltip={tooltip} />\n      }\n    </>\n  );\n}\n\nexport default memo(SvgCountriesMap);","import React from \"react\";\nimport Button from '../../elements/Button';\nimport { CASES, DEATHS, RECOVERED, TESTS, ACTIVE, getDataKeysByKeys } from '../../../constants/DataKeys';\n\nfunction MapOptions({ settings: { isCirclesShow, isAutoFocus, circlesDataKey, isTooltipShow, isGraphShow, isGradient },\n  onToggleIsCirclesShow, onToggleIsAutoFocus, onSetCirclesDataKey, onToggleIsTooltipShow, onToggleIsGraphShow,onToggleGradient }) {\n\n  const circleClicked = key => {\n    if (circlesDataKey !== key) onSetCirclesDataKey(key);\n  }\n\n  const circlesData = getDataKeysByKeys([ACTIVE, CASES, DEATHS, RECOVERED, TESTS]);\n\n  const circlesDataButtons = circlesData.map(circle => {\n    const isActive = circlesDataKey === circle.key;\n    return <Button key={circle.key} text={circle.title} type={`${circle.color} ${isActive && 'active'}`}\n      style={{ fontSize: '0.8rem' }}\n      onClick={() => circleClicked(circle.key)} />\n  })\n\n  return (\n    <div className=\"map-options\">\n\n      <div className=\"main-options\">\n        <Button text=\"Circles\" isBooleanActive={isCirclesShow} isBoolean={true}\n          onClick={onToggleIsCirclesShow} />\n        <Button text=\"Auto Focus\" isBooleanActive={isAutoFocus} isBoolean={true}\n          onClick={onToggleIsAutoFocus} />\n        <Button text=\"Tooltip\" isBooleanActive={isTooltipShow} isBoolean={true}\n          onClick={onToggleIsTooltipShow} />\n        <Button text=\"Graph\" isBooleanActive={isGraphShow} isBoolean={true}\n          onClick={onToggleIsGraphShow} />\n        <Button text=\"Gradient\" isBooleanActive={isGradient} isBoolean={true}\n          onClick={onToggleGradient} />\n      </div>\n\n      {isCirclesShow &&\n        <div className=\"circles-options\">\n          {circlesDataButtons}\n        </div>\n      }\n\n    </div>\n  );\n}\n\nexport default MapOptions;","import React from 'react';\nimport { numberWithCommas, orderDate } from '../../../services/UtilsService';\n\nfunction GraphColumnsPreview({ arr, maxColumnHeight, graphRatio, graphDataType, showLine = true }) {\n\n  const calcLine = (item, idx) => {\n    const diff = (arr[idx + 1].value - item.value) / maxColumnHeight * 100;\n    const colWidth = 1 / arr.length * 100 * graphRatio;\n    const calcSlant = Math.sqrt(diff * diff + colWidth * colWidth);\n    const tanAngle = Math.atan(diff / colWidth) * 180 / Math.PI;\n    return { angle: tanAngle, slant: calcSlant };\n  }\n\n  const list = arr.map((item, idx) => {\n    const width = 1 / arr.length * 100 + '%';\n    const height = item.value / maxColumnHeight * 100 + '%';\n    const backgroundColor = graphDataType.colorHEX;\n    const line = arr[idx + 1] ? calcLine(item, idx) : 0;\n    const lineStyle = {\n      top: `-${line.slant * 2}px`,\n      transform: `rotate(${line.angle * -1}deg)`\n    }\n\n    return <li className=\"column\" key={item.date} style={{ width }}>\n      <div className=\"column-percent\" style={{ height, backgroundColor }}>\n        {item.value > 0 &&\n          <div className=\"wrap-value\">\n            <span className=\"value\">{numberWithCommas(item.value)}</span>\n          </div>\n        }\n\n        <div className=\"hover-value\">\n          <span className=\"value\">{numberWithCommas(item.value)}</span>\n          <span className=\"date\">{orderDate(item.date)}</span>\n        </div>\n        {arr[idx + 1] && showLine && <span className=\"line\" style={lineStyle}></span>}\n      </div>\n    </li>\n  })\n\n  return (\n    <ul className=\"columns\">\n      {list}\n    </ul>\n  );\n}\n\nexport default GraphColumnsPreview;\n","import React, { useEffect, useRef, useState, useMemo } from 'react';\nimport Button from '../../elements/Button';\nimport { CASES, DEATHS, RECOVERED, getDataKeysByKeys, getDataKeyByKey } from '../../../constants/DataKeys';\nimport { orderDate } from '../../../services/UtilsService';\n\nimport GraphColumnsPreview from './GraphColumnsPreview';\n\nfunction GraphColumns({ selectedCountry }) {\n\n  const graphRef = useRef();\n  const [graphRatio, setGraphRatio] = useState();\n  const [graphType, setGraphType] = useState(CASES);\n  const [isCumulative, setIsCumulative] = useState(false);\n\n  const typeClicked = key => {\n    if (graphType !== key) setGraphType(key);\n  }\n\n  const graphDataTypes = getDataKeysByKeys([CASES, DEATHS, RECOVERED]);\n\n  const graphTypesButtons = graphDataTypes.map(type => {\n    const isActive = graphType === type.key;\n    return <Button\n      key={type.key}\n      text={type.title}\n      type={`${type.color} ${isActive && 'active'}`}\n      style={{ fontSize: '0.8rem' }}\n      onClick={() => typeClicked(type.key)}\n    />\n  })\n\n  const graphDataType = graphType === CASES\n    ? { ...getDataKeyByKey(graphType), color: 'teal', colorHEX: '#008080' }\n    : getDataKeyByKey(graphType);\n\n  const historyObj = selectedCountry.history ? selectedCountry.history.timeline[graphType] : {};\n\n  const historyArr = useMemo(() => {\n    const historyEntries = Object.entries(historyObj);\n    if (isCumulative) {\n      return historyEntries.map(([key, value]) => ({ date: key, value }))\n    } else {\n      return historyEntries.reduce((acc, [key, value], idx) => {\n        if (idx === 0) {\n          acc.push({ date: key, value: 0 })\n        } else {\n          acc.push({\n            date: key,\n            value: value - historyEntries[idx - 1][1]\n          })\n        }\n        return acc;\n      }, [])\n    }\n  }, [historyObj, isCumulative]);\n\n  const maxColumnHeight = 1.05 * historyArr.reduce((acc, next) => {\n    if (acc < next.value) {\n      acc = next.value;\n    }\n    return acc;\n  }, 0);\n\n  useEffect(() => {\n    if (graphRef.current && !graphRatio) {\n      setGraphRatio(graphRef.current.clientWidth / graphRef.current.clientHeight);\n    }\n  }, [graphRef, graphRatio])\n\n  return (\n    <div className=\"graph-columns\" ref={graphRef}>\n      <div className=\"graph-options\">\n        <div className=\"graph-text\">\n          <p>\n            <span className=\"text\">{`From ${orderDate(historyArr[0].date)}`}</span>\n            <span className=\"text\">{`To ${orderDate(historyArr[historyArr.length - 1].date)}`}</span>\n          </p>\n        </div>\n        <div className=\"buttons-options flex-center\">\n          <Button\n            text='Cumulative'\n            style={{ fontSize: '0.9rem' }}\n            onClick={() => setIsCumulative(!isCumulative)}\n            isBoolean\n            isBooleanActive={!!isCumulative}\n          />\n          {graphTypesButtons}\n        </div>\n      </div>\n\n      {graphRef && graphRef.current &&\n        <GraphColumnsPreview arr={historyArr} maxColumnHeight={maxColumnHeight} graphRatio={graphRatio}\n          graphDataType={graphDataType}\n          showLine={!!isCumulative}\n        />\n      }\n    </div>\n  );\n}\n\nexport default GraphColumns;\n// export default React.memo(GraphColumns);\n\n","import React, { useMemo } from \"react\";\n\nimport SvgCountriesMap from './mapUtils/SvgCountriesMap';\nimport MapOptions from './mapUtils/MapOptions';\nimport GraphColumns from '../helpers/graphs/GraphColumns';\n\nfunction WorldDashboardMap({ settings, countriesStore: { countries, selectedCountryIndex, worldData },\n  onSelectCountry, mapOptionsFunction }) {\n\n  const selectedCountry = useMemo(() => {\n    return selectedCountryIndex || selectedCountryIndex === 0\n      ? countries[selectedCountryIndex] : worldData;\n  }, [countries, selectedCountryIndex, worldData]);\n\n  const { isGraphShow } = settings;\n  return (\n    <div className=\"world-dashboard-map\">\n      <SvgCountriesMap countries={countries} settings={settings} selectedCountry={selectedCountry}\n        onSelectCountry={onSelectCountry} />\n      <MapOptions settings={settings} {...mapOptionsFunction} />\n      {isGraphShow && selectedCountry.history &&\n        <div className=\"wrap-graph-columns\">\n          <GraphColumns selectedCountry={selectedCountry} />\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default WorldDashboardMap;","import React from 'react';\nimport UtilsService from '../../services/UtilsService';\nimport VirusSVG from '../helpers/svg-icons/VirusSVG';\nimport { CASES, DEATHS, RECOVERED, ACTIVE, RANK, getDataKeysByKeys } from '../../constants/DataKeys';\n\nfunction WorldDashboardListItem({ country, selectedCountry, onSelectCountry, countryRef }) {\n\n  const isSelected = country.name === selectedCountry.name ? 'selected' : '';\n  const src = UtilsService.getImgSrc(`flags/${country.alpha2.toLowerCase()}.png`);\n\n  const caterogies = getDataKeysByKeys([ACTIVE, CASES, DEATHS, RECOVERED]);\n\n  const categoryView = caterogies.map(category => {\n    const shortNum = country[category.key] ? UtilsService.numberWithCommas(country[category.key]) : 'No Data';\n    const commasNum = UtilsService.numberWithCommas(country[category.key]);\n    const APercent = (country[ACTIVE] / country[CASES] * 100).toFixed();\n    const activePercent = !isNaN(APercent) && APercent > 0 ? APercent + '%' : '';\n    return <div className=\"category flex-col\" key={category.key}\n      title={`${commasNum} ${category.title}`}>\n      <span className=\"title\">\n        {category.title}\n        {category.key === ACTIVE && <span className=\"title-percent\">\n          &nbsp;{activePercent}\n        </span>}\n      </span>\n      <span className=\"value\">{shortNum}</span>\n    </div>\n  })\n\n  return (\n    <li className={`country ${isSelected}`} ref={countryRef}\n      onClick={() => onSelectCountry(country)}>\n      <span className=\"numeric-code\" title={`Numeric Code ${country.numericCode}`}>\n        N-C {country.numericCode}\n      </span>\n      <div className=\"top-section\">\n        <div className=\"wrap-country-flag\">\n          <img className=\"country-flag\" src={src} alt=\"Flag\" title={country.name} />\n        </div>\n        <div className=\"wrap-country-status\">\n          <h3 className=\"country-name\">{country.name}</h3>\n          <div className=\"status-details\">\n            <span className=\"rank\" title={`Rank ${country[RANK] + 1}`}>\n              <span className=\"rank-icon\"></span>\n              <span className='rank-number' >{country[RANK] + 1}</span>\n            </span>\n            <div className=\"cases\" title={`Today Cases ${UtilsService.numberWithCommas(country.todayCases)}`}>\n              <div className=\"wrap-icon-svg\"><VirusSVG /></div>\n              <span className=\"cases-value\">+{UtilsService.numberWithCommas(country.todayCases)}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"bottom-section\">\n        {categoryView}\n      </div>\n    </li>\n  );\n}\n\nexport default WorldDashboardListItem;\n","import React from 'react';\nimport FilterInput from '../helpers/FilterInput';\nimport WorldDashboardListItem from './WorldDashboardListItem';\n\nfunction WorldDashboardList({ countriesStore: { countries, selectedCountryIndex },\n  onSelectCountry }) {\n  // console.log('WorldDashboardList');\n  const selectedCountry = selectedCountryIndex || selectedCountryIndex === 0 ? countries[selectedCountryIndex] : {};\n\n  const [filteredCountries, setFilteredCountries] = React.useState(countries.filter((item, idx) => idx < 40));\n  const [isFiltered, setIsFiltered] = React.useState(false);\n  const [isScroll, setIsScroll] = React.useState(false);\n\n  const selectedCountryRef = React.useRef(null);\n\n  const list = filteredCountries.map((country, idx) => {\n    const countryRef = selectedCountry.alpha2 === country.alpha2 ? selectedCountryRef : null;\n    return (isScroll || isFiltered || idx < 10)\n      ? <WorldDashboardListItem key={country.id} countryRef={countryRef}\n        country={country} selectedCountry={selectedCountry}\n        onSelectCountry={onSelectCountry} />\n      : <li key={idx} ref={countryRef} style={{ height: '6.5rem' }}></li>\n  })\n\n  const handleScroll = ev => {\n    setIsScroll(true);\n    if (isFiltered) return;\n    const scrollEnd = ev.target.scrollTop + 100 >= ev.target.scrollHeight - ev.target.clientHeight;\n    if (scrollEnd) setFilteredCountries(countries);\n  }\n\n  const filterCountries = filteredList => {\n    if (filteredList) {\n      setFilteredCountries(filteredList);\n      setIsFiltered(true);\n    } else {\n      setFilteredCountries(countries.filter((item, idx) => idx < 40));\n    }\n  }\n\n  const handleUserKeyPress = React.useCallback((ev) => {\n    ev.preventDefault();\n    const arrowUpOrDown = ev.code === 'ArrowDown' ? 1 : ev.code === 'ArrowUp' ? -1 : 0;\n    if (!arrowUpOrDown) return;\n    let nextIndex = selectedCountryIndex + arrowUpOrDown;\n    if (nextIndex < 0) nextIndex = filteredCountries.length - 1;\n    if (nextIndex > countries.length - 1) nextIndex = 0;\n    if (filteredCountries[nextIndex]) {\n      onSelectCountry(filteredCountries[nextIndex]);\n    } else {\n      setFilteredCountries(countries);\n    }\n    selectedCountryRef.current.scrollIntoView({ block: 'center' });\n  }, [filteredCountries, selectedCountryIndex, onSelectCountry, countries])\n\n  React.useEffect(() => {\n    window.addEventListener('keyup', handleUserKeyPress);\n    return (() => window.removeEventListener('keyup', handleUserKeyPress));\n  }, [handleUserKeyPress])\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      if (selectedCountryRef.current) selectedCountryRef.current.scrollIntoView({ block: 'center' });\n    }, 0)\n  }, [selectedCountryRef])\n\n  return (\n    <div className=\"world-dashboard-list flex-col\">\n      <div className=\"custom-filter-input\">\n        <FilterInput list={countries} filterKeys={['name']} placeholder=\"Search Country\"\n          onFilter={filterCountries} />\n      </div>\n      <ul className=\"countries\" onScroll={handleScroll}>\n        {list}\n      </ul>\n    </div>\n  );\n}\n\nexport default WorldDashboardList;\n","import React from 'react';\nimport UtilsService from '../../services/UtilsService';\nimport { CASES, DEATHS, RECOVERED, getDataKeysByKeys } from '../../constants/DataKeys';\n\nfunction WorldDashboardWorldData({ worldData, onSelectCountry }) {\n\n  const data = getDataKeysByKeys([CASES, DEATHS, RECOVERED]);\n\n  const list = data.map(category => (\n    <li className=\"world-detail flex-col\" key={category.key} onClick={() => onSelectCountry()}>\n      <span className=\"pseudo-border\"></span>\n      <p>{category.title}</p>\n      <p>{UtilsService.numberWithCommas(worldData[category.key])}</p>\n\n      {category.dividBy &&\n        <span className=\"wrap-precent\">\n          <span className=\"precent\">\n            {(worldData[category.key] / worldData[category.dividBy] * 100).toFixed()}%\n          </span>\n        </span>\n      }\n    </li>\n  ))\n\n  return (\n    <div className=\"world-dashboard-world-details\">\n      <h2 className=\"title\">World</h2>\n      <ul className=\"world-details\">\n        {list}\n      </ul>\n    </div>\n  );\n}\n\nexport default WorldDashboardWorldData;\n","import React from 'react';\n\nfunction VirusLogoSVG() {\n  return (\n    <svg role=\"img\" viewBox=\"0 0 50 50\">\n      <path fill=\"currentColor\" d=\"M 25 3 C 12.867715 3 3 12.867715 3 25 C 3 29.006019 4.0814389 32.738815 5.9296875 35.96875 L 3.5839844 35.251953 A 2.0002 2.0002 0 1 0 2.4160156 39.076172 L 12.138672 42.046875 L 13.490234 32.035156 A 2.0002 2.0002 0 0 0 11.550781 29.740234 A 2.0002 2.0002 0 0 0 9.5273438 31.5 L 9.2304688 33.699219 C 7.8172419 31.125736 7 28.181418 7 25 C 7 15.026285 15.026285 7 25 7 L 27 7 L 27 3 L 25 3 z M 31.720703 3.9511719 L 30.160156 7.640625 L 32.009766 8.4199219 L 32.009766 8.4101562 C 33.849766 9.1891562 32.010609 8.4104063 33.849609 9.1914062 L 35.410156 5.5117188 L 31.720703 3.9511719 z M 37.861328 7.953125 L 36.509766 17.964844 A 2.0002 2.0002 0 1 0 40.472656 18.5 L 40.769531 16.300781 C 42.182758 18.874264 43 21.818582 43 25 C 43 34.973715 34.973715 43 25 43 L 23 43 L 23 47 L 25 47 C 37.132285 47 47 37.132285 47 25 C 47 20.993981 45.918561 17.261185 44.070312 14.03125 L 46.416016 14.748047 A 2.0002 2.0002 0 1 0 47.583984 10.923828 L 37.861328 7.953125 z M 16.150391 40.810547 L 14.589844 44.490234 L 16.429688 45.269531 C 18.279688 46.049531 16.43025 45.269828 18.28125 46.048828 L 19.830078 42.359375 L 17.990234 41.580078 L 17.990234 41.589844 L 16.150391 40.810547 z\" />\n    </svg>\n  );\n}\n\nexport default VirusLogoSVG;\n","import React, { useState } from 'react';\nimport UtilsService from '../../../services/UtilsService';\nimport * as DataKeys from '../../../constants/DataKeys';\nimport ReplaceSVG from '../svg-icons/ReplaceSVG';\nimport Button from '../../elements/Button';\n\nfunction GraphRows({ countries, onSelectCountry }) {\n\n  const [rowsAmount, setRowsAmount] = useState(10);\n  const [graphBy, setGraphBy] = useState(DataKeys.TODAY_DEATHS);\n  const graphDataKey = DataKeys.getDataKeyByKey(graphBy);\n\n  const top10 = [...countries].sort((b, a) => (a[graphBy] > b[graphBy]) ? 1 : ((b[graphBy] > a[graphBy]) ? -1 : 0))\n    .slice(0, rowsAmount);\n  // .filter((item, idx) => idx < rowsAmount);\n\n  const list = top10.map(country => {\n    const width = country[graphBy] / top10[0][graphBy] * 100 + '%';\n    const backgroundColor = graphDataKey.colorHEX + '80';\n    return <li className=\"row\" key={country.alpha2} style={{ width, backgroundColor }}>\n      <span className=\"name\" onClick={() => onSelectCountry(country)}>{country.name}</span>\n      <span className=\"amount\">&nbsp;{UtilsService.numberWithCommas(country[graphBy])}</span>\n    </li>\n  })\n\n  const toggleGraph = () => {\n    if (graphBy === DataKeys.TODAY_DEATHS) setGraphBy(DataKeys.DEATHS_PER_ONE_MILLION);\n    if (graphBy === DataKeys.DEATHS_PER_ONE_MILLION) setGraphBy(DataKeys.DEATHS);\n    if (graphBy === DataKeys.DEATHS) setGraphBy(DataKeys.TODAY_CASES);\n    if (graphBy === DataKeys.TODAY_CASES) setGraphBy(DataKeys.CASES_PER_ONE_MILLION);\n    if (graphBy === DataKeys.CASES_PER_ONE_MILLION) setGraphBy(DataKeys.CASES);\n    if (graphBy === DataKeys.CASES) setGraphBy(DataKeys.TESTS_PER_ONE_MILLION);\n    if (graphBy === DataKeys.TESTS_PER_ONE_MILLION) setGraphBy(DataKeys.CRITICAL);\n    if (graphBy === DataKeys.CRITICAL) setGraphBy(DataKeys.RECOVERED);\n    if (graphBy === DataKeys.RECOVERED) setGraphBy(DataKeys.ACTIVE);\n    if (graphBy === DataKeys.ACTIVE) setGraphBy(DataKeys.TODAY_DEATHS);\n  }\n\n  const diff = 5;\n  return (\n    <div className=\"graph-rows\">\n      <div className=\"wrap-title\" onClick={toggleGraph}>\n        <div className=\"wrap-icon-svg\"><ReplaceSVG /></div>\n        <h3 className=\"title\">{graphDataKey.title}</h3>\n        <div className=\"wrap-icon-svg\" style={{ color: graphDataKey.color }}>{graphDataKey.svgIcon}</div>\n      </div>\n      <ul className=\"rows\">\n        {list}\n        <li className=\"flex-evenly\">\n          {rowsAmount > diff &&\n            <Button text={` ${diff}`} style={{ fontWeight: 'bold', width: '2.5rem' }}\n              onClick={() => setRowsAmount(rowsAmount - diff)} />\n          }\n          {rowsAmount < diff * 10 &&\n            <Button text={`+ ${diff}`} style={{ fontWeight: 'bold', width: '2.5rem' }}\n              onClick={() => setRowsAmount(rowsAmount + diff)} />\n          }\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default GraphRows;\n","import React from 'react';\nimport GraphRows from '../helpers/graphs/GraphRows';\nimport CountryDetails from '../helpers/countryDetails';\n\nfunction WorldDashboardDetails({ countriesStore: { countries, selectedCountryIndex, worldData },\n  onSelectCountry }) {\n  const selectedCountry = selectedCountryIndex || selectedCountryIndex === 0 ? countries[selectedCountryIndex] : worldData;\n\n  return (\n    <div className=\"world-dashboard-details flex-col\">\n      <CountryDetails country={selectedCountry}/>\n      <GraphRows countries={countries} onSelectCountry={onSelectCountry} />\n    </div>\n  );\n}\n\nexport default WorldDashboardDetails;\n","import React, { useEffect } from 'react';\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport actions from '../store/actions';\nimport { WORLD_DASHBOARD } from '../constants/RouterPaths';\n\nimport WorldDashboardMap from '../cmps/worldDashboard/WorldDashboardMap';\nimport WorldDashboardList from '../cmps/worldDashboard/WorldDashboardList';\nimport WorldDashboardWorldData from '../cmps/worldDashboard/WorldDashboardWorldData';\nimport WorldDashboardDetails from '../cmps/worldDashboard/WorldDashboardDetails';\n\nfunction WorldDashboard() {\n\n  const countriesStore = useSelector(state => state.countriesStore);\n  const settingsStore = useSelector(state => state.settingsStore);\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const params = useParams();\n\n  useEffect(() => {\n    if (!countriesStore) return;\n    const { countries, selectedCountryIndex } = countriesStore;\n    const isSelectedCountry = selectedCountryIndex || selectedCountryIndex === 0;\n    const isParamsInUrlWithCountry = params.alpha2 && !isSelectedCountry;\n    if (isParamsInUrlWithCountry) {\n      const country = countries.find(country => country.alpha2 === params.alpha2);\n      dispatch(actions.selectCountry(country));\n    }\n    const isUrlCmpUnmount = !params.alpha2 && isSelectedCountry;\n    if (isUrlCmpUnmount) {\n      history.push(`/${WORLD_DASHBOARD}/${countries[selectedCountryIndex].alpha2}`);\n    }\n  }, [dispatch, countriesStore, params, history]);\n\n  // TODO: clean code!\n  const selectCountry = (country = null) => {\n    if (!country && !isSelectedCountry) return;\n    const isSameCountry = country && country.alpha2 === selectedCountry.alpha2;\n    const alpha2ToPush = country && !isSameCountry ? country.alpha2 : '';\n    history.push(`/${WORLD_DASHBOARD}/${alpha2ToPush}`);\n    dispatch(actions.selectCountry(country ? country : {}));\n  }\n\n  const selectedCountryIndex = countriesStore && countriesStore.selectedCountryIndex;\n  const isSelectedCountry = selectedCountryIndex || selectedCountryIndex === 0;\n  const selectedCountry = isSelectedCountry\n    ? countriesStore.countries[selectedCountryIndex]\n    : countriesStore ? countriesStore.worldData : {};\n\n  const mapOptionsFunction = {\n    onToggleIsCirclesShow: () => dispatch(actions.toggleIsCirclesShow()),\n    onToggleIsAutoFocus: () => dispatch(actions.toggleIsAutoFocus()),\n    onSetCirclesDataKey: dataKey => dispatch(actions.setCirclesDataKey(dataKey)),\n    onToggleIsTooltipShow: () => dispatch(actions.toggleIsTooltipShow()),\n    onToggleGradient: () => dispatch(actions.toggleGradient()),\n    onToggleIsGraphShow: () => dispatch(actions.toggleIsGraphShow()),\n  }\n\n  return (\n    <>{countriesStore && settingsStore && <>\n      <div className=\"world-dashboard\">\n        <div className=\"wrap-worldData-and-list flex-col overflow-hidden\">\n          <WorldDashboardWorldData worldData={countriesStore.worldData} onSelectCountry={selectCountry} />\n          <WorldDashboardList countriesStore={countriesStore} onSelectCountry={selectCountry} />\n        </div>\n        <WorldDashboardMap countriesStore={countriesStore} settings={settingsStore.worldMap}\n          onSelectCountry={selectCountry} mapOptionsFunction={mapOptionsFunction} />\n        <WorldDashboardDetails countriesStore={countriesStore} onSelectCountry={selectCountry} />\n      </div>\n    </>}</>\n  );\n}\n\nexport default WorldDashboard;\n"],"sourceRoot":""}